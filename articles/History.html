<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAMP Software: A History • ramp.xds</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RAMP Software: A History">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ramp.xds</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.98</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/GettingStarted.html">Getting Started with ramp.xds</a>
    </li>
    <li>
      <a href="../articles/Working.html">Working with Models in ramp.xds</a>
    </li>
    <li>
      <a href="../articles/TraceFunctions.html">Trace Functions</a>
    </li>
    <li>
      <a href="../articles/Understanding_ramp.xds.html">Understanding ramp.xds</a>
    </li>
    <li>
      <a href="../articles/modular_forms.html">Modular Forms for Disease Dynamics</a>
    </li>
    <li>
      <a href="../articles/ex_534.html">5-3-4 Spatial Example</a>
    </li>
    <li>
      <a href="../articles/spat_metric.html">Spatial Metrics</a>
    </li>
    <li>
      <a href="../articles/vc_lemenach.html">Vector Control Example</a>
    </li>
    <li>
      <a href="../articles/heterogeneous_transmission.html">Heterogeneous Transmission</a>
    </li>
    <li>
      <a href="../articles/Nimble.html">Nimble Model Building and Scaling Complexity</a>
    </li>
    <li>
      <a href="../articles/Contributing.html">Contributing</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Mosquito - Adult

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/adult_RM.html">Ross-Macdonald model</a>
    </li>
    <li>
      <a href="../articles/RM-dts-Mosquito.html">Ross-Macdonald, discrete time</a>
    </li>
    <li>
      <a href="../articles/adult_GeRM.html">Generalized Ross-Macdonald model</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Mosquito - Aquatic

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/aqua_trace.html">Aquatic - Trivial (forced) model</a>
    </li>
    <li>
      <a href="../articles/aqua_basic.html">Basic Competition</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Human / Host

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/human_sis.html">SIS model</a>
    </li>
    <li>
      <a href="../articles/human_hmoi.html">MoI hybrid model</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dd-harp/ramp.xds/" class="external-link">
    <span class="fa fa-github"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>RAMP Software: A History</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dd-harp/ramp.xds/blob/main/vignettes/History.Rmd" class="external-link"><code>vignettes/History.Rmd</code></a></small>
      <div class="hidden name"><code>History.Rmd</code></div>

    </div>

    
    
<p>The idea of developing modular software to simulate the dynamics and
control of mosquito-borne pathogens originated sometime around 2009 at
the Emerging Pathogens Institute, University of Florida. It took much
longer than anticipated to finish. Some concepts have appeared in
various publications. Some of the algorithms trivial back to other
software packages that were never launched, but that someday might yet
be completed (e.g., MASH). In retrospect, a key challenge was blood
feeding, but it was not the only one.</p>
<div class="section level2">
<h2 id="mbites">
<code>MBITES</code><a class="anchor" aria-label="anchor" href="#mbites"></a>
</h2>
<p>2023-01-17</p>
</div>
<div class="section level2">
<h2 id="micromob">
<code>MicroMoB</code><a class="anchor" aria-label="anchor" href="#micromob"></a>
</h2>
</div>
<div class="section level2">
<h2 id="exde">
<code>exDE</code><a class="anchor" aria-label="anchor" href="#exde"></a>
</h2>
</div>
<div class="section level2">
<h2 id="ramp-xde">
<code>ramp.xde</code><a class="anchor" aria-label="anchor" href="#ramp-xde"></a>
</h2>
<p>In this document, we let <code>exDE</code></p>
<p>A major change was implemented in the way <code>ramp.xde</code>
handles <strong>delay differential equations.</strong> New algorithms
were added to Ross-Macdonald models that compute mosquito survival and
dispersal through an incubation period varying in length.</p>
<ul>
<li><p><strong>Inits</strong> – <strong>initial values</strong> are now
handled separately, with new functions <code><a href="../reference/get_inits.html">get_inits()</a></code> and the
<code>S3</code> families of functions <code>get_inits_L()</code> and
<code>get_inits_MYZ()</code> and <code>get_inits_X().</code> A new
function <code><a href="../reference/update_inits.html">update_inits()</a></code> resets the initial values to the
last value simulated.</p></li>
<li><p><strong>Indexing</strong> – <strong>indices</strong> for
variables are now collected in <code>pars$ix</code></p></li>
<li><p><strong>Setup</strong> – Several new functions have been added to
set up basic models.</p></li>
<li><p><strong>Solving</strong> – The <code>S3</code> function
<code><a href="../reference/xds_solve.html">xds_solve()</a></code> was added to solve differential equations of
various classes.</p></li>
<li><p><strong>Outputs</strong> – The <code>S3</code> function
<code>parse_deout()</code> was added to parse the output of
<code>deSolve</code> and return the orbits in a set of named lists.
These lists are attached to <code>pars$outputs$orbits.</code> New
functions were also written to compute the dynamical terms that connect
the major components.</p></li>
<li><p><strong>Demography</strong> – Functionality has been added to
handle human demographic changes, including births, deaths, migration,
and aging.</p></li>
<li><p><strong>Hosts</strong> – This version handles multiple vertebrate
host or vector species.</p></li>
<li><p><strong>Forcing</strong> – The models have been reconfigured to
model malaria as a <em>changing baseline</em> that has been modified by
<em>vector control.</em></p></li>
</ul>
<div class="section level3 tabset">
<h3 class="tabset" id="ddes">DDEs<a class="anchor" aria-label="anchor" href="#ddes"></a>
</h3>
<div class="section level4">
<h4 id="exde-1">
<code>exDE</code><a class="anchor" aria-label="anchor" href="#exde-1"></a>
</h4>
<p>In modular computation with delay differential equations, it is often
necessary to compute the value of a term at some lagged values. For
example, in the Ross-Macdonald model:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right" style="text-align: right"><mover><mi>Y</mi><mo accent="true">̇</mo></mover></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><mi>f</mi><mi>q</mi><mi>κ</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>M</mi><mo>−</mo><mi>Y</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>g</mi><mi>Y</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"><mover><mi>Z</mi><mo accent="true">̇</mo></mover></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><msub><mi>f</mi><mi>τ</mi></msub><msub><mi>q</mi><mi>τ</mi></msub><msub><mi>κ</mi><mi>τ</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>τ</mi></msub><mo>−</mo><msub><mi>Y</mi><mi>τ</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><msup><mi>e</mi><mrow><mo>−</mo><mi>g</mi><mi>τ</mi></mrow></msup><mo>−</mo><mi>g</mi><mi>Z</mi></mtd></mtr></mtable><annotation encoding="application/x-tex"> 
\begin{array}{rl}
\dot Y &amp;= fq \kappa (M-Y) - g Y \\
\dot Z &amp;= f_\tau q_\tau \kappa_\tau (M_\tau-Y_\tau) e^{-g\tau} - g Z
\end{array}
</annotation></semantics></math> the values of the variables at time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>−</mo><mi>τ</mi></mrow><annotation encoding="application/x-tex">t-\tau</annotation></semantics></math>
can be retrieved using <code>lagvalue,</code> but the term
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>κ</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\kappa(t-\tau)</annotation></semantics></math>
is computed outside of <code>dMYZdt</code> and passed as an argument. To
handle this in Version 1.0, the function that computed
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>κ</mi><annotation encoding="application/x-tex">\kappa</annotation></semantics></math>
dispatched on the type of <code>dMYZdt</code> so that it would pass two
values:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>κ</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo><mi>κ</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>.</mi></mrow><annotation encoding="application/x-tex">(\kappa(t), \kappa(t-\tau).</annotation></semantics></math></p>
<p>Handling delays in general posed a far greater challenge in models
with exogenous forcing. Consider, for example, models where blood
feeding depends on resource availability, and resources vary with time:
we would need to compute the blood feeding parameters in relation to
blood host availability and vector control (with effect sizes
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ϵ</mi><mo>*</mo></msub><annotation encoding="application/x-tex">\epsilon_*</annotation></semantics></math>):</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>F</mi><mi>f</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>B</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><msub><mi>ϵ</mi><mi>f</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>ϕ</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">f(t-\tau)= F_f(B(t-\tau)) \epsilon_f(\phi(t-\tau))</annotation></semantics></math>
and
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>F</mi><mi>q</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>W</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo><mi>B</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><msub><mi>ϵ</mi><mi>q</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>ϕ</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mi>.</mi></mrow><annotation encoding="application/x-tex">q(t-\tau)=F_q(W(t-\tau), B(t-\tau)) \epsilon_q(\phi(t-\tau)).</annotation></semantics></math>
The software design challenge was daunting, and it would have become
difficult to manage if this dispatching had fully propagated.</p>
<p>The decision to internalize computation of lagged values was
consistent with the overall <em>plug-and-play</em> design principle, and
it would almost certainly lower the burden for developers wanting to add
new models.</p>
</div>
<div class="section level4">
<h4 id="ramp-xde-1">
<code>ramp.xde</code><a class="anchor" aria-label="anchor" href="#ramp-xde-1"></a>
</h4>
<p>A change was made to <strong>internalize compuation of lagged values
for terms.</strong> For terms that depend on variables or processes
outside of a dynamical component and whose value must be known at some
lagged value in the past, generically denoted
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">k(t)</annotation></semantics></math>,
we create a new variable
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">K(t)</annotation></semantics></math>,
and such that
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>K</mi><mi>/</mi><mi>d</mi><mi>t</mi><mo>=</mo><mi>k</mi><mi>.</mi></mrow><annotation encoding="application/x-tex">dK/dt = k.</annotation></semantics></math>
We add this variable to the the derivatives function, and index the new
dummy variable
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>K</mi><annotation encoding="application/x-tex">K</annotation></semantics></math>
as if it were a model variable. The value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>−</mo><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">k(t-\tau)</annotation></semantics></math>
can be computed using <code><a href="https://rdrr.io/pkg/deSolve/man/timelags.html" class="external-link">deSolve::lagderiv</a></code></p>
<p>For an example, see the implementation in the function
<code>dMYZdt.RM</code></p>
</div>
</div>
<div class="section level3">
<h3 id="initial-values">Initial Values<a class="anchor" aria-label="anchor" href="#initial-values"></a>
</h3>
<div class="section level4">
<h4 id="exde-2">
<code>exDE</code><a class="anchor" aria-label="anchor" href="#exde-2"></a>
</h4>
<p>In version 1.0, the initial values were stored with the parameters in
<code>pars$MYZpar</code> or <code>pars$Lpar</code> or
<code>pars$Xpar</code></p>
</div>
<div class="section level4">
<h4 id="ramp-xde-2">
<code>ramp.xde</code><a class="anchor" aria-label="anchor" href="#ramp-xde-2"></a>
</h4>
<p>In version 2.0, initial values are found in
<code>pars$MYZinits</code> or <code>pars$Linits</code> or
<code>pars$Xinits</code></p>
<ul>
<li>A function <code><a href="../reference/get_inits.html">get_inits()</a></code> returns a vector of initial
values</li>
</ul>
<p><strong><code>pars</code></strong></p>
<ul>
<li>
<p><code>MYZinits</code> is a list()</p>
<ul>
<li><p><code>MYZinits[[1]]</code> has initial values for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>MYZinits[[2]]</code> has initial values for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>s</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">s^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">s =</annotation></semantics></math><code>nVectors</code></p></li>
</ul>
</li>
<li>
<p><code>Linits</code> is a list()</p>
<ul>
<li><p><code>Linits[[1]]</code> has initial values for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>Linits[[2]]</code> has initial values for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>s</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">s^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">s =</annotation></semantics></math><code>nVectors</code></p></li>
</ul>
</li>
<li>
<p><code>Xinits</code> is a list()</p>
<ul>
<li><p><code>Xinits[[1]]</code> has initial values for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>Xinits[[2]]</code> has initial values for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>i</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">i^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">i =</annotation></semantics></math><code>nHosts</code></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section level3 tabset">
<h3 class="tabset" id="indexing">Indexing<a class="anchor" aria-label="anchor" href="#indexing"></a>
</h3>
<div class="section level4">
<h4 id="exde-3">
<code>exDE</code><a class="anchor" aria-label="anchor" href="#exde-3"></a>
</h4>
<p>In version 1.0, the indices were attached to <code>pars</code></p>
<ul>
<li><p><code>MYZ_ix</code> for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>L_ix</code> for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>X_ix</code> for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="ramp-xde-3">
<code>ramp.xde</code><a class="anchor" aria-label="anchor" href="#ramp-xde-3"></a>
</h4>
<p>In version 2.0, indices are stored as named lists under
<code>pars$ix</code></p>
<ul>
<li>
<p><code>MYZ_ix</code> is a list()</p>
<ul>
<li><p><code>MYZ[[1]]</code> has indices for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>MYZ[[2]]</code> has indices for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>s</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">s^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">s =</annotation></semantics></math><code>nVectors</code></p></li>
</ul>
</li>
<li>
<p><code>L_ix</code> is a list()</p>
<ul>
<li><p><code>L[[1]]</code> has indices for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>L[[2]]</code> has indices for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>s</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">s^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">s =</annotation></semantics></math><code>nVectors</code></p></li>
</ul>
</li>
<li>
<p><code>X_ix</code> is a list()</p>
<ul>
<li><p><code>X[[1]]</code> has indices for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>X[[2]]</code> has indices for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>i</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">i^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">i =</annotation></semantics></math><code>nHosts</code></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h3>
<p><strong><code>ramp.xde</code> Version 2.0</strong> adds a new class
of functions, called <code>xde_setup</code> that streamline model setup
for all models. As we added new features to handle malaria control and
exogenous forcing, the burden of managing</p>
<p>Easy setup relies on several new functions:</p>
<ul>
<li>
<code>make_parameters_xde</code> (in <code>utils.R</code>) creates a
new list that sets up an empty model.</li>
</ul>
<p><strong>Parameters</strong></p>
<ul>
<li><p><code>setup_MYZpar</code> sets up and returns a
<code>MYZpar</code> object.</p></li>
<li><p><code>setup_Lpar</code> sets up and returns a <code>Lpar</code>
object</p></li>
<li><p><code>setup_Xpar</code> sets up and returns a <code>Xpar</code>
object</p></li>
</ul>
<p><strong>Initial Values</strong></p>
<ul>
<li><p><code>setup_MYZinits</code> sets up and returns a
<code>MYZinits</code> object</p></li>
<li><p><code>setup_Linits</code> sets up and returns a
<code>Linits</code> object</p></li>
<li><p><code>setup_Xinits</code> sets up and returns a
<code>Xinits</code> object</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="solving">Solving<a class="anchor" aria-label="anchor" href="#solving"></a>
</h3>
</div>
<div class="section level3">
<h3 id="outputs">Outputs<a class="anchor" aria-label="anchor" href="#outputs"></a>
</h3>
<p>Version 2.0 parses outputs and includes functions for basic
plotting.</p>
<ul>
<li>
<p><code>parse_deout</code> and related functions parse the output
of <code>deSolve()</code> and attach the values of the variables by name
to a list called <code>pars$outputs</code></p>
<ul>
<li><p>for ordinary solving, the outputs are attached to
<code>pars$outputs$orbits</code></p></li>
<li><p>for steady states, the outputs are attached to
<code>pars$outputs$stable_orbits</code></p></li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="demography">Demography<a class="anchor" aria-label="anchor" href="#demography"></a>
</h3>
</div>
<div class="section level3">
<h3 id="multi-species">Multi-Species<a class="anchor" aria-label="anchor" href="#multi-species"></a>
</h3>
<p>Models with multiple vector species or multiple host species are now
handled.</p>
<ol style="list-style-type: decimal">
<li>
<p>There are two new structural parameters:</p>
<ul>
<li><p><code>nVectors</code> is the number of vector species;</p></li>
<li><p><code>nHosts</code> is the number of vertebrate host
species;</p></li>
</ul>
</li>
<li><p><strong>Parameters</strong> - Mutiple-species required making
changes to the way <code>MYZpar</code> and <code>Lpar</code> and
<code>Xpar</code> were configured</p></li>
<li><p><strong>Transmission</strong> - Mutiple-species required making
changes to the way <code>beta</code> and <code>kappa</code> and
<code>EIR</code> and <code>FoI</code> were handled.</p></li>
<li><p><strong>Egg Laying</strong> - Mutiple-species required making
changes to the way egg-laying was handled.</p></li>
</ol>
<div class="section level4">
<h4 id="exde-4">
<code>exDE</code><a class="anchor" aria-label="anchor" href="#exde-4"></a>
</h4>
<p>In version 1.0, the default object had one vertebrate host and one
vector species</p>
<p><strong><code>pars</code></strong></p>
<ul>
<li><p><code>MYZpar</code> for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>Lpar</code> for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>Xpar</code> for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="ramp-xde-4">
<code>ramp.xde</code><a class="anchor" aria-label="anchor" href="#ramp-xde-4"></a>
</h4>
<p>In version 2.0, the default object has changed the location of major
objects:</p>
<p><strong><code>pars</code></strong></p>
<ul>
<li>
<p><code>MYZpar</code> is a list()</p>
<ul>
<li><p><code>MYZpar[[1]]</code> is the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>MYZpar[[2]]</code> is the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>s</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">s^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">s =</annotation></semantics></math><code>nVectors</code></p></li>
</ul>
</li>
<li>
<p><code>Lpar</code> is a list()</p>
<ul>
<li><p><code>Lpar[[1]]</code> is the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>Lpar[[2]]</code> is the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>s</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">s^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">s =</annotation></semantics></math><code>nVectors</code></p></li>
</ul>
</li>
<li>
<p><code>Xpar</code> is a list()</p>
<ul>
<li><p><code>Xpar[[1]]</code> is the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>1</mn><mrow><mi>s</mi><mi>t</mi></mrow></msup><annotation encoding="application/x-tex">1^{st}</annotation></semantics></math>
species</p></li>
<li><p><code>Xpar[[2]]</code> is the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mi>n</mi><mi>d</mi></mrow></msup><annotation encoding="application/x-tex">2^{nd}</annotation></semantics></math>
species</p></li>
<li><p>… up to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>i</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup><annotation encoding="application/x-tex">i^{th}</annotation></semantics></math>
species where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">i =</annotation></semantics></math><code>nHosts</code></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="ramp-dts">
<code>ramp.dts</code><a class="anchor" aria-label="anchor" href="#ramp-dts"></a>
</h3>
</div>
<div class="section level3">
<h3 id="ramp-xds">
<code>ramp.xds</code><a class="anchor" aria-label="anchor" href="#ramp-xds"></a>
</h3>
<p><strong><code>ramp.xds</code></strong> was designed to replace exDE
and MicroMoB, which were originally designed by Sean L. Wu and Professor
David L. Smith. David L Smith developed the prototypes. Sean L. Wu wrote
the first versions of the R-packages. Development of exDE continued. The
name exDE was changed to ramp.xds where development continued. A stable
version of exDE was restored. Functionality for discrete time systems
was added to ramp.xds in the spring of 2024. A name change to ramp.xds
is planned.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sean L. Wu, David L. Smith.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
