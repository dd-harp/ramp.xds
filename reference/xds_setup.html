<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Build a Model and Configure All Components — xds_setup • ramp.xds</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build a Model and Configure All Components — xds_setup"><meta name="description" content="

Make an xds model object:
Define the dynamical components:
XH - Component modules for human / host infection dynamics of class Xname with trivial demographics
MY - Component modules for adult mosquito ecology and infection dynamics of class MYname
L Component modules for aquatic mosquito ecology of class Lname

Define basic structural parameters for a single host and vector population:
\(n_p\) or nPatches - the number of patches
\(n_q\) or nHabitats = length(membership) - the numer and locations of aquatic habitats
\(n_h\) or nStrata = length(residence) - the number of human / host population strata and basic demographic information

Configure some of the basic elements
Search weights for human population strata
Search weights for aquatic habitats
The mosquito dispersal matrix, \(K\)
The time spent matrix \(\Theta\)



Advanced options can be configured after basic setup."><meta property="og:description" content="

Make an xds model object:
Define the dynamical components:
XH - Component modules for human / host infection dynamics of class Xname with trivial demographics
MY - Component modules for adult mosquito ecology and infection dynamics of class MYname
L Component modules for aquatic mosquito ecology of class Lname

Define basic structural parameters for a single host and vector population:
\(n_p\) or nPatches - the number of patches
\(n_q\) or nHabitats = length(membership) - the numer and locations of aquatic habitats
\(n_h\) or nStrata = length(residence) - the number of human / host population strata and basic demographic information

Configure some of the basic elements
Search weights for human population strata
Search weights for aquatic habitats
The mosquito dispersal matrix, \(K\)
The time spent matrix \(\Theta\)



Advanced options can be configured after basic setup."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ramp.xds</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GettingStarted.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/BasicSetup.html">Basic Setup</a></li>
    <li><a class="dropdown-item" href="../articles/Working.html">Working with the Model Object</a></li>
    <li><a class="dropdown-item" href="../articles/ex_534.html">The 5-3-4 Model</a></li>
    <li><a class="dropdown-item" href="../articles/Delays.html">Delay Equations</a></li>
    <li><a class="dropdown-item" href="../articles/Forcing.html">Ports &amp; Junctions</a></li>
    <li><a class="dropdown-item" href="../articles/DTS.html">Discrete Time Systems</a></li>
    <li><a class="dropdown-item" href="../articles/TraceFunctions.html">Functions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-interfaces" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Interfaces</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-interfaces"><li><a class="dropdown-item" href="../articles/modular_forms.html">Modular Forms</a></li>
    <li><a class="dropdown-item" href="../articles/EggLaying.html">Habitats &amp; Mosquito Ecology</a></li>
    <li><a class="dropdown-item" href="../articles/BloodFeeding.html">Blood Feeding &amp; Transmission</a></li>
    <li><a class="dropdown-item" href="../articles/Exposure.html">Exposure</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-human-host" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Human / Host</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-human-host"><li><a class="dropdown-item" href="../articles/XH-interface.html">The XH Component</a></li>
    <li><a class="dropdown-item" href="../articles/human_sis.html">SIS model</a></li>
    <li><a class="dropdown-item" href="../articles/human_hmoi.html">MoI hybrid model</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-adult-mosquitoes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Adult Mosquitoes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-adult-mosquitoes"><li><a class="dropdown-item" href="../articles/MY-interface.html">The MY Component</a></li>
    <li><a class="dropdown-item" href="../articles/adult_RM.html">Macdonald's Model</a></li>
    <li><a class="dropdown-item" href="../articles/RM-dts-Mosquito.html">Ross-Macdonald - discrete time</a></li>
    <li><a class="dropdown-item" href="../articles/adult_GeRM.html">Generalized Ross-Macdonald model</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-immature-mosquitoes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Immature Mosquitoes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-immature-mosquitoes"><li><a class="dropdown-item" href="../articles/L-interface.html">The L Component</a></li>
    <li><a class="dropdown-item" href="../articles/aqua_trace.html">Emergence (the trivial module)</a></li>
    <li><a class="dropdown-item" href="../articles/aqua_basic.html">basicL</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/dd-harp/ramp.xds/"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Build a Model and Configure All Components</h1>
      <small class="dont-index">Source: <a href="https://github.com/dd-harp/ramp.xds/blob/main/R/xds_setup.R" class="external-link"><code>R/xds_setup.R</code></a></small>
      <div class="d-none name"><code>xds_setup.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>

Make an <strong><code>xds</code></strong> <em>model object</em>:</p><ul><li><p>Define the dynamical components:</p><ul><li><p><strong>XH</strong> - Component modules for human / host infection dynamics of class <strong><code>Xname</code></strong> with trivial demographics</p></li>
<li><p><strong>MY</strong> - Component modules for adult mosquito ecology and infection dynamics of class <strong><code>MYname</code></strong></p></li>
<li><p><strong>L</strong> Component modules for aquatic mosquito ecology of class <strong><code>Lname</code></strong></p></li>
</ul></li>
<li><p>Define basic structural parameters for a single host and vector population:</p><ul><li><p>\(n_p\) or <code>nPatches</code> - the number of patches</p></li>
<li><p>\(n_q\) or <code>nHabitats = length(membership)</code> - the numer and locations of aquatic habitats</p></li>
<li><p>\(n_h\) or <code>nStrata = length(residence)</code> - the number of human / host population strata and basic demographic information</p></li>
</ul></li>
<li><p>Configure some of the basic elements</p><ul><li><p>Search weights for human population strata</p></li>
<li><p>Search weights for aquatic habitats</p></li>
<li><p>The mosquito dispersal matrix, \(K\)</p></li>
<li><p>The time spent matrix \(\Theta\)</p></li>
</ul></li>
</ul><p>Advanced options can be configured after basic setup.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">xds_setup</span><span class="op">(</span></span>
<span>  xds <span class="op">=</span> <span class="st">"ode"</span>,</span>
<span>  Xname <span class="op">=</span> <span class="st">"SIS"</span>,</span>
<span>  XHoptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  MYname <span class="op">=</span> <span class="st">"macdonald"</span>,</span>
<span>  MYoptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Lname <span class="op">=</span> <span class="st">"trivial"</span>,</span>
<span>  Loptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  nPatches <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  HPop <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  residence <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  membership <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  searchB <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  TimeSpent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  K_matrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  searchQ <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  BFopts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"unnamed"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xds">xds<a class="anchor" aria-label="anchor" href="#arg-xds"></a></dt>
<dd><p>is <code>ode</code> or <code>dde</code> or <code>dts</code> for ordinary OR delay differential OR difference equations</p></dd>


<dt id="arg-xname">Xname<a class="anchor" aria-label="anchor" href="#arg-xname"></a></dt>
<dd><p>a character string defining a <strong>X</strong> Component module</p></dd>


<dt id="arg-xhoptions">XHoptions<a class="anchor" aria-label="anchor" href="#arg-xhoptions"></a></dt>
<dd><p>a list to configure the <strong>X</strong> Component module</p></dd>


<dt id="arg-myname">MYname<a class="anchor" aria-label="anchor" href="#arg-myname"></a></dt>
<dd><p>a character string defining an <strong>MY</strong> module</p></dd>


<dt id="arg-myoptions">MYoptions<a class="anchor" aria-label="anchor" href="#arg-myoptions"></a></dt>
<dd><p>options to set up the <strong>MY</strong> component</p></dd>


<dt id="arg-lname">Lname<a class="anchor" aria-label="anchor" href="#arg-lname"></a></dt>
<dd><p>a character string defining a <strong>L</strong> Component module</p></dd>


<dt id="arg-loptions">Loptions<a class="anchor" aria-label="anchor" href="#arg-loptions"></a></dt>
<dd><p>a list to configure the <strong>L</strong> Component module</p></dd>


<dt id="arg-npatches">nPatches<a class="anchor" aria-label="anchor" href="#arg-npatches"></a></dt>
<dd><p>is the number of patches</p></dd>


<dt id="arg-hpop">HPop<a class="anchor" aria-label="anchor" href="#arg-hpop"></a></dt>
<dd><p>is the number of humans in each patch</p></dd>


<dt id="arg-residence">residence<a class="anchor" aria-label="anchor" href="#arg-residence"></a></dt>
<dd><p>is a vector that describes the patch where each human stratum lives</p></dd>


<dt id="arg-membership">membership<a class="anchor" aria-label="anchor" href="#arg-membership"></a></dt>
<dd><p>is a vector that describes the patch where each aquatic habitat is found</p></dd>


<dt id="arg-searchb">searchB<a class="anchor" aria-label="anchor" href="#arg-searchb"></a></dt>
<dd><p>is a vector of search weights for blood feeding</p></dd>


<dt id="arg-timespent">TimeSpent<a class="anchor" aria-label="anchor" href="#arg-timespent"></a></dt>
<dd><p>is either a TimeSpent matrix or a string to call a function that sets it up</p></dd>


<dt id="arg-k-matrix">K_matrix<a class="anchor" aria-label="anchor" href="#arg-k-matrix"></a></dt>
<dd><p>is either a K_matrix matrix or a string that defines how to set it up</p></dd>


<dt id="arg-searchq">searchQ<a class="anchor" aria-label="anchor" href="#arg-searchq"></a></dt>
<dd><p>is a vector of search weights for egg laying</p></dd>


<dt id="arg-bfopts">BFopts<a class="anchor" aria-label="anchor" href="#arg-bfopts"></a></dt>
<dd><p>a list to configure the blood feeding model</p></dd>


<dt id="arg-model-name">model_name<a class="anchor" aria-label="anchor" href="#arg-model-name"></a></dt>
<dd><p>is a name for the model (arbitrary)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an <strong><code>xds</code></strong> object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ol><li><p>Using the basic structural parameters, a basic template is created by <a href="make_xds_object_template.html">make_xds_object_template</a> with
a properly configured interface for blood feeding and egg laying, and <code>xds_obj$frame = class(xds_obj$frame) = 'full'</code> .</p><ul><li><p><code>nPatches</code> is passed as a parameter</p></li>
<li><p><code>nHabitats</code> is configured by passing the habitat <code>membership</code> vector, and <code>nHabitats = length(membership)</code></p></li>
<li><p><code>nStrata</code> is configured by passing a vector of human population densities and a residence vector, and <code>nStrata = length(residence) = length(HPop)</code></p></li>
<li><p><code>nHostSpecies=1</code> (basic setup handles only the first host species)</p></li>
<li><p><code>nVectorSpecies=1</code> (basic setup handles only the first vector species)</p></li>
</ul></li>
</ol><p>.
2. Each one of the dynamical components is configured.</p><ul><li><p><strong><code>xds_obj$XH_obj[[1]]</code></strong> defines a model for human / host infection dynamics of class <code>Xname</code> (the <strong>X</strong> component). The parameter values passed in a named list, <code>XHoptions.</code></p></li>
<li><p><strong><code>xds_obj$MY_obj[[1]]</code></strong> defines a model for adult mosquito ecology &amp; infection dynamics of class <code>MYname</code> (the <strong>MY</strong> Component). The parameter values are passed in a named list, <code>MYoptions.</code></p></li>
<li><p><strong><code>xds_obj$L_obj[[1]]</code></strong> defines a model for aquatic mosquito ecology of class <code>Lname</code> (The <strong>L</strong> Component). The parameter values are passed in a named list, <code>Loptions.</code></p></li>
</ul><ol><li><p>After configuring the dynamical components, several structural parameters can be configured at the command line:</p><ul><li><p>Habitat search weights can be set</p></li>
<li><p>Host population search weights can be set</p></li>
<li><p>A mosquito dispersal matrix, \(\cal K\), can be set</p></li>
<li><p>A time spent matrix, \(\Theta\), can be set</p></li>
</ul></li>
</ol><p>Advanced features must be configured later, including:</p><ul><li><p>multiple-host species or multiple-vector species</p></li>
<li><p>exogenous forcing by weather, resources, or other factors</p></li>
<li><p>vector control, vaccines, or other mass</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>If the <strong>MY</strong> Component is the <code>trivial</code> module, consider using <a href="xds_setup_aquatic.html">xds_setup_aquatic</a> or <a href="xds_setup_human.html">xds_setup_human</a> or <a href="xds_setup_eir.html">xds_setup_eir</a>. Models for mosquito
ecology need not include states describing infection status (see <a href="xds_setup_mosy.html">xds_setup_mosy</a>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="make_xds_object_template.html">make_xds_object_template</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David L. Smith, Sean L. Wu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

