<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create the residence matrix, \(\cal J\) — create_residence_matrix • ramp.xds</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create the residence matrix, \(\cal J\) — create_residence_matrix"><meta name="description" content="The residence matrix, \(\cal J\), holds
information about residency for each human population stratum.
It is the template for the time spent and time at risk matrices, making it possible
to compute mosquito parameters describing blood feeding, the mixing matrix,
and terms describing transmission."><meta property="og:description" content="The residence matrix, \(\cal J\), holds
information about residency for each human population stratum.
It is the template for the time spent and time at risk matrices, making it possible
to compute mosquito parameters describing blood feeding, the mixing matrix,
and terms describing transmission."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ramp.xds</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.98</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/adult_RM.html">A Ross-Macdonald Adult Mosquito Model</a></li>
    <li><a class="dropdown-item" href="../articles/AdultMosquitoes.html">Adult Mosquito Models</a></li>
    <li><a class="dropdown-item" href="../articles/aqua_basic.html">basicL_xde Competition Aquatic Mosquito Model</a></li>
    <li><a class="dropdown-item" href="../articles/aqua_trace.html">Trace (exogenously forced) Aquatic Mosquito Model</a></li>
    <li><a class="dropdown-item" href="../articles/BedNets.html">Bed Nets</a></li>
    <li><a class="dropdown-item" href="../articles/Contributing.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../articles/ex_534.html">5-3-4 Example</a></li>
    <li><a class="dropdown-item" href="../articles/Forcing.html">Exogenous Forcing</a></li>
    <li><a class="dropdown-item" href="../articles/GettingStarted.html">Getting Started with `ramp.xds`</a></li>
    <li><a class="dropdown-item" href="../articles/heterogeneous_biting.html">Heterogeneous Biting</a></li>
    <li><a class="dropdown-item" href="../articles/heterogeneous_transmission.html">Heterogeneous Transmission</a></li>
    <li><a class="dropdown-item" href="../articles/History.html">RAMP Software: A History</a></li>
    <li><a class="dropdown-item" href="../articles/human_hmoi.html">Hybrid MoI (Multiplicity of Infection) Human Model</a></li>
    <li><a class="dropdown-item" href="../articles/human_seis.html">SEIS and SEISd</a></li>
    <li><a class="dropdown-item" href="../articles/human_sip.html">SIP_xde (Susceptible-Infected-Prophylaxis) Human Model</a></li>
    <li><a class="dropdown-item" href="../articles/human_sis.html">SIS-xde (Susceptible-Infected-Susceptible) Human Model</a></li>
    <li><a class="dropdown-item" href="../articles/modular_forms.html">Modular Forms for Disease Dynamics</a></li>
    <li><a class="dropdown-item" href="../articles/modularity.html">Nimble Model Building</a></li>
    <li><a class="dropdown-item" href="../articles/Nimble.html">Nimble Model Building and Scalable Complexity</a></li>
    <li><a class="dropdown-item" href="../articles/RM-dts-Mosquito.html">Basic Mosquito Infection Dynamics in Discrete Time</a></li>
    <li><a class="dropdown-item" href="../articles/spat_metric.html">Spatial Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/TraceFunctions.html">Trace Functions</a></li>
    <li><a class="dropdown-item" href="../articles/Understanding_ramp.xds.html">Understanding ramp.xds</a></li>
    <li><a class="dropdown-item" href="../articles/vc_lemenach.html">ITN-based Vector Control</a></li>
    <li><a class="dropdown-item" href="../articles/VectorControl.html">Vector Control</a></li>
    <li><a class="dropdown-item" href="../articles/Working.html">Working with Models in `ramp.xds`</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dd-harp/ramp.xds/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create the residence matrix, \(\cal J\)</h1>
      <small class="dont-index">Source: <a href="https://github.com/dd-harp/ramp.xds/blob/main/R/blood_feeding.R" class="external-link"><code>R/blood_feeding.R</code></a></small>
      <div class="d-none name"><code>create_residence_matrix.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The residence matrix, \(\cal J\), holds
information about residency for each human population stratum.
It is the template for the time spent and time at risk matrices, making it possible
to compute mosquito parameters describing blood feeding, the mixing matrix,
and terms describing transmission.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_residence_matrix</span><span class="op">(</span><span class="va">nPatches</span>, <span class="va">residence</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-npatches">nPatches<a class="anchor" aria-label="anchor" href="#arg-npatches"></a></dt>
<dd><p>the number of patches</p></dd>


<dt id="arg-residence">residence<a class="anchor" aria-label="anchor" href="#arg-residence"></a></dt>
<dd><p>a vector describing the patch index for each habitat</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>the residence <a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a>, denoted \(\cal J\) where \(\left|\cal J\right|= n_p \times n_h\)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Information about residence in a patch location for each stratum
is passed as the residence vector, an ordered list of patch locations. If
the \(i^{th}\) stratum lives in the \(j^{th}\) patch, then
\({\cal J}_{j,i}=1.\) Otherwise, \({\cal J}_{j,i}=0.\)</p>
<p>Since \(\cal J\) is a matrix, it is readily used for computation. Let:</p><ul><li><p>\(n_h = \) <code>nStrata</code>, the number of population strata;</p></li>
<li><p>\(n_p = \) <code>nPatches</code>, the number of patches.</p></li>
</ul><p>If \(w\) is any vector describing a quantity in strata (<em>i.e.</em>, \(\left|w\right|=n_h\)), then
$$W={\cal J}\cdot w$$ is a vector that has summed \(w\) by residency for the strata, and \(\left|W\right|= n_p\).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>see <a href="setup_BLOOD_FEEDING.html">setup_BLOOD_FEEDING</a></p>
<p>see <a href="view_residence_matrix.html">view_residence_matrix</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sean L. Wu, David L. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

