<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Setup the Blood Feeding Interface — setup_XY_interface • ramp.xds</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Setup the Blood Feeding Interface — setup_XY_interface"><meta name="description" content="This function, called by make_xds_object_template, sets up
the blood feeding interface, xds_obj$XY_interface."><meta property="og:description" content="This function, called by make_xds_object_template, sets up
the blood feeding interface, xds_obj$XY_interface."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ramp.xds</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GettingStarted.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/BasicSetup.html">Basic Setup</a></li>
    <li><a class="dropdown-item" href="../articles/modular_forms.html">Modular Forms</a></li>
    <li><a class="dropdown-item" href="../articles/EggLaying.html">Habitats and Egg Laying</a></li>
    <li><a class="dropdown-item" href="../articles/BloodFeeding.html">Blood Feeding</a></li>
    <li><a class="dropdown-item" href="../articles/Exposure.html">Exposure</a></li>
    <li><a class="dropdown-item" href="../articles/Forcing.html">Ports &amp; Junctions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-adult-mosquitoes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Adult Mosquitoes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-adult-mosquitoes"><li><a class="dropdown-item" href="../articles/MY-interface.html">MY Interface</a></li>
    <li><a class="dropdown-item" href="../articles/adult_RM.html">Macdonald's Model</a></li>
    <li><a class="dropdown-item" href="../articles/RM-dts-Mosquito.html">Ross-Macdonald - discrete time</a></li>
    <li><a class="dropdown-item" href="../articles/adult_GeRM.html">Generalized Ross-Macdonald model</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-immature-mosquitoes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Immature Mosquitoes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-immature-mosquitoes"><li><a class="dropdown-item" href="../articles/L-interface.html">L Interface</a></li>
    <li><a class="dropdown-item" href="../articles/aqua_trace.html">Emergence (the trivial module)</a></li>
    <li><a class="dropdown-item" href="../articles/aqua_basic.html">basicL</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-human-host" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Human / Host</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-human-host"><li><a class="dropdown-item" href="../articles/XH-interface.html">XH Interface</a></li>
    <li><a class="dropdown-item" href="../articles/human_sis.html">SIS model</a></li>
    <li><a class="dropdown-item" href="../articles/human_hmoi.html">MoI hybrid model</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/dd-harp/ramp.xds/"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Setup the Blood Feeding Interface</h1>
      <small class="dont-index">Source: <a href="https://github.com/dd-harp/ramp.xds/blob/main/R/blood_feeding.R" class="external-link"><code>R/blood_feeding.R</code></a></small>
      <div class="d-none name"><code>setup_XY_interface.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function, called by <a href="make_xds_object_template.html">make_xds_object_template</a>, sets up
the blood feeding interface, <code>xds_obj$XY_interface.</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">setup_XY_interface</span><span class="op">(</span><span class="va">xds_obj</span>, <span class="va">residency</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xds-obj">xds_obj<a class="anchor" aria-label="anchor" href="#arg-xds-obj"></a></dt>
<dd><p>an <strong><code>xds</code></strong> model object template</p></dd>


<dt id="arg-residency">residency<a class="anchor" aria-label="anchor" href="#arg-residency"></a></dt>
<dd><p>the residency vector</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a <strong><code>xds</code></strong> model object template with a blood feeding object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This implements a framework to model blood feeding
described by Wu SL, <em>et al.</em>, (2023).</p>
<p>Modular computation in <strong><code>ramp.xds</code></strong> requires a rigid interface to
guarantee mathematical consistency in computing quantites related to blood feeding and transmission.</p>
<p>The interface for blood feeding is defined by an object called
<code>XY_interface</code>,
attached to the <strong><code>xds</code></strong> model object as <code>xds_obj$XY_interface.</code></p>
<p>The blood feeding interface sets up several objects:</p><ul><li><p>the residency matrix \(J\) (see <a href="make_residency_matrix.html">make_residency_matrix</a>)</p></li>
<li><p>a time spent (TiSp) matrix \(\Theta\) (see <a href="setup_TimeSpent.html">setup_TimeSpent</a>)</p></li>
<li><p>a circadian function <code>F_circadian</code> for each vector species</p></li>
<li><p>a time at risk (TaR) matrix \(\Psi,\) the product of the TiSp matrix and the circadian function</p></li>
<li><p>blood feeding search weights \(\omega\)</p></li>
<li><p>a vector describing the available of humans (or hosts), \(W\) (see <a href="F_W_available.html">F_W_available</a>)</p></li>
<li><p>a vector describing the available of visitors, \(V\)</p></li>
<li><p>a vector describing the available of other blood hosts, \(O\)</p></li>
<li><p>a vector describing the total available of blood hosts, \(B\) (see <a href="F_B_available.html">F_B_available</a>)</p></li>
</ul><p>These quantities are used to compute the transmission matrix, \(\beta\), to models transmission (see <code><a href="setup_TRANSMISSION.html">setup_transmission()</a></code>).</p>
<p>Mosquito bionomic parameters <em>ought</em> to be constrained. If bionomic parameters are
assigned, there's no guarantee they are internally mathematically consistent or sensible.
To guarantee internal consistency, the the concept of resource available should be
used to compute the blood feeding rates (\(f\))
using <em>functional responses.</em> The human fraction ought to be \(q=W/B\).
available can also be used to model mosquito movement.</p>
<p><strong>Mulit-Host Models</strong></p>
<p>In models with multiple host species, let \(W_i\) denote the available of the \(i^{th}\) host species.
Total availablity of blood hosts is $$B = \sum_i W_i + O + V,$$
so the the fraction of bites on each host species is \(W_i/B\).</p>
<p>In models with multiple vector species and one host species, each vector species could have different search habits and preferences.
so blood feeding available is computed for each species, denoted \(B_s\) and \(W_{s}\).</p>
<p>In models with multiple vector and multiple host species, \(W_{i,s}\)
is the available of the \(i^{th}\) host species to the \(s^{th}\) vector species.</p>
<p>For hosts, available is based on <em>time spent</em> in each patch, and <em>time at risk,</em> or
time spent by time of day weighted by mosquito species-specific <em>search weights</em> reflecting different preferences
and a circadian function describing relative mosquito blood feeding rates by time of day.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Wu SL, Henry JM, Citron DT, Ssebuliba DM, Nsumba JN, C HMS, Brady OJ, Guerra CA, García GA, Carter AR, Ferguson HM, Afolabi BE, Hay SI, Jr RCR, Kiware S, Smith DL (2023).
“Spatial dynamics of malaria transmission.”
<em>PLoS Computational Biology</em>, <b>19</b>(6), e1010684.
<a href="https://doi.org/10.1371/journal.pcbi.1010684" class="external-link">doi:10.1371/journal.pcbi.1010684</a>
, <a href="2023-06-27">2023-06-27</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="setup_TRANSMISSION.html">setup_transmission</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David L. Smith, Sean L. Wu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

