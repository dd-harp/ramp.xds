<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="

Make an xds model object:
Define the dynamical components:
XH - Component modules for human / host infection dynamics of class Xname with trivial demographics
MY - Component modules for adult mosquito ecology and infection dynamics of class MYname
L Component modules for aquatic mosquito ecology of class Lname

Define basic structural parameters for a single host and vector population:
\(n_p\) or nPatches - the number of patches
\(n_q\) or nHabitats = length(membership) - the numer and locations of aquatic habitats
\(n_h\) or nStrata = length(residence) - the number of human / host population strata and basic demographic information

Configure some of the basic elements
Search weights for human population strata
Search weights for aquatic habitats
The mosquito dispersal matrix, \(K\)
The time spent matrix \(\Theta\)



Advanced options can be configured after basic setup."><title>Build a Model and Configure All Components — xds_setup • ramp.xds</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build a Model and Configure All Components — xds_setup"><meta property="og:description" content="

Make an xds model object:
Define the dynamical components:
XH - Component modules for human / host infection dynamics of class Xname with trivial demographics
MY - Component modules for adult mosquito ecology and infection dynamics of class MYname
L Component modules for aquatic mosquito ecology of class Lname

Define basic structural parameters for a single host and vector population:
\(n_p\) or nPatches - the number of patches
\(n_q\) or nHabitats = length(membership) - the numer and locations of aquatic habitats
\(n_h\) or nStrata = length(residence) - the number of human / host population strata and basic demographic information

Configure some of the basic elements
Search weights for human population strata
Search weights for aquatic habitats
The mosquito dispersal matrix, \(K\)
The time spent matrix \(\Theta\)



Advanced options can be configured after basic setup."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ramp.xds</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2-0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting Started</a>
    <a class="dropdown-item" href="../articles/BasicSetup.html">Basic Setup</a>
    <a class="dropdown-item" href="../articles/modular_forms.html">Modular Forms</a>
    <a class="dropdown-item" href="../articles/EggLaying.html">Habitats and Egg Laying</a>
    <a class="dropdown-item" href="../articles/BloodFeeding.html">Blood Feeding</a>
    <a class="dropdown-item" href="../articles/Exposure.html">Exposure</a>
    <a class="dropdown-item" href="../articles/Forcing.html">Ports &amp; Junctions</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-adult-mosquitoes">Adult Mosquitoes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-adult-mosquitoes">
    <a class="dropdown-item" href="../articles/MY-interface.html">MY Interface</a>
    <a class="dropdown-item" href="../articles/adult_RM.html">Macdonald's Model</a>
    <a class="dropdown-item" href="../articles/RM-dts-Mosquito.html">Ross-Macdonald - discrete time</a>
    <a class="dropdown-item" href="../articles/adult_GeRM.html">Generalized Ross-Macdonald model</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-immature-mosquitoes">Immature Mosquitoes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-immature-mosquitoes">
    <a class="dropdown-item" href="../articles/L-interface.html">L Interface</a>
    <a class="dropdown-item" href="../articles/aqua_trace.html">Emergence (the trivial module)</a>
    <a class="dropdown-item" href="../articles/aqua_basic.html">basicL</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-human-host">Human / Host</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-human-host">
    <a class="dropdown-item" href="../articles/XH-interface.html">XH Interface</a>
    <a class="dropdown-item" href="../articles/human_sis.html">SIS model</a>
    <a class="dropdown-item" href="../articles/human_hmoi.html">MoI hybrid model</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dd-harp/ramp.xds/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Build a Model and Configure All Components</h1>
      <small class="dont-index">Source: <a href="https://github.com/dd-harp/ramp.xds/blob/HEAD/R/xds_setup.R" class="external-link"><code>R/xds_setup.R</code></a></small>
      <div class="d-none name"><code>xds_setup.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>

Make an <strong><code>xds</code></strong> <em>model object</em>:</p><ul><li><p>Define the dynamical components:</p><ul><li><p><strong>XH</strong> - Component modules for human / host infection dynamics of class <strong><code>Xname</code></strong> with trivial demographics</p></li>
<li><p><strong>MY</strong> - Component modules for adult mosquito ecology and infection dynamics of class <strong><code>MYname</code></strong></p></li>
<li><p><strong>L</strong> Component modules for aquatic mosquito ecology of class <strong><code>Lname</code></strong></p></li>
</ul></li>
<li><p>Define basic structural parameters for a single host and vector population:</p><ul><li><p>\(n_p\) or <code>nPatches</code> - the number of patches</p></li>
<li><p>\(n_q\) or <code>nHabitats = length(membership)</code> - the numer and locations of aquatic habitats</p></li>
<li><p>\(n_h\) or <code>nStrata = length(residence)</code> - the number of human / host population strata and basic demographic information</p></li>
</ul></li>
<li><p>Configure some of the basic elements</p><ul><li><p>Search weights for human population strata</p></li>
<li><p>Search weights for aquatic habitats</p></li>
<li><p>The mosquito dispersal matrix, \(K\)</p></li>
<li><p>The time spent matrix \(\Theta\)</p></li>
</ul></li>
</ul><p>Advanced options can be configured after basic setup.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">xds_setup</span><span class="op">(</span></span>
<span>  xds <span class="op">=</span> <span class="st">"ode"</span>,</span>
<span>  Xname <span class="op">=</span> <span class="st">"SIS"</span>,</span>
<span>  XHoptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  MYname <span class="op">=</span> <span class="st">"macdonald"</span>,</span>
<span>  MYoptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Lname <span class="op">=</span> <span class="st">"trivial"</span>,</span>
<span>  Loptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  nPatches <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  HPop <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  residence <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  membership <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  searchB <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  TimeSpent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  K_matrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  searchQ <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  BFopts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"unnamed"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>xds</dt>
<dd><p>is <code>ode</code> or <code>dde</code> or <code>dts</code> for ordinary OR delay differential OR difference equations</p></dd>


<dt>Xname</dt>
<dd><p>a character string defining a <strong>X</strong> Component module</p></dd>


<dt>XHoptions</dt>
<dd><p>a list to configure the <strong>X</strong> Component module</p></dd>


<dt>MYname</dt>
<dd><p>a character string defining an <strong>MY</strong> module</p></dd>


<dt>MYoptions</dt>
<dd><p>options to set up the <strong>MY</strong> component</p></dd>


<dt>Lname</dt>
<dd><p>a character string defining a <strong>L</strong> Component module</p></dd>


<dt>Loptions</dt>
<dd><p>a list to configure the <strong>L</strong> Component module</p></dd>


<dt>nPatches</dt>
<dd><p>is the number of patches</p></dd>


<dt>HPop</dt>
<dd><p>is the number of humans in each patch</p></dd>


<dt>residence</dt>
<dd><p>is a vector that describes the patch where each human stratum lives</p></dd>


<dt>membership</dt>
<dd><p>is a vector that describes the patch where each aquatic habitat is found</p></dd>


<dt>searchB</dt>
<dd><p>is a vector of search weights for blood feeding</p></dd>


<dt>TimeSpent</dt>
<dd><p>is either a TimeSpent matrix or a string to call a function that sets it up</p></dd>


<dt>K_matrix</dt>
<dd><p>is either a K_matrix matrix or a string that defines how to set it up</p></dd>


<dt>searchQ</dt>
<dd><p>is a vector of search weights for egg laying</p></dd>


<dt>BFopts</dt>
<dd><p>a list to configure the blood feeding model</p></dd>


<dt>model_name</dt>
<dd><p>is a name for the model (arbitrary)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>an <strong><code>xds</code></strong> object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    
<ol><li><p>Using the basic structural parameters, a basic template is created by <a href="make_xds_object_template.html">make_xds_object_template</a> with
a properly configured interface for blood feeding and egg laying, and <code>xds_obj$frame = class(xds_obj$frame) = 'full'</code> .</p><ul><li><p><code>nPatches</code> is passed as a parameter</p></li>
<li><p><code>nHabitats</code> is configured by passing the habitat <code>membership</code> vector, and <code>nHabitats = length(membership)</code></p></li>
<li><p><code>nStrata</code> is configured by passing a vector of human population densities and a residence vector, and <code>nStrata = length(residence) = length(HPop)</code></p></li>
<li><p><code>nHostSpecies=1</code> (basic setup handles only the first host species)</p></li>
<li><p><code>nVectorSpecies=1</code> (basic setup handles only the first vector species)</p></li>
</ul></li>
</ol><p>.
2. Each one of the dynamical components is configured.</p><ul><li><p><strong><code>xds_obj$XH_obj[[1]]</code></strong> defines a model for human / host infection dynamics of class <code>Xname</code> (the <strong>X</strong> component). The parameter values passed in a named list, <code>XHoptions.</code></p></li>
<li><p><strong><code>xds_obj$MY_obj[[1]]</code></strong> defines a model for adult mosquito ecology &amp; infection dynamics of class <code>MYname</code> (the <strong>MY</strong> Component). The parameter values are passed in a named list, <code>MYoptions.</code></p></li>
<li><p><strong><code>xds_obj$L_obj[[1]]</code></strong> defines a model for aquatic mosquito ecology of class <code>Lname</code> (The <strong>L</strong> Component). The parameter values are passed in a named list, <code>Loptions.</code></p></li>
</ul><ol><li><p>After configuring the dynamical components, several structural parameters can be configured at the command line:</p><ul><li><p>Habitat search weights can be set</p></li>
<li><p>Host population search weights can be set</p></li>
<li><p>A mosquito dispersal matrix, \(\cal K\), can be set</p></li>
<li><p>A time spent matrix, \(\Theta\), can be set</p></li>
</ul></li>
</ol><p>Advanced features must be configured later, including:</p><ul><li><p>multiple-host species or multiple-vector species</p></li>
<li><p>exogenous forcing by weather, resources, or other factors</p></li>
<li><p>vector control, vaccines, or other mass</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>If the <strong>MY</strong> Component is the <code>trivial</code> module, consider using <a href="xds_setup_aquatic.html">xds_setup_aquatic</a> or <a href="xds_setup_human.html">xds_setup_human</a> or <a href="xds_setup_eir.html">xds_setup_eir</a>. Models for mosquito
ecology need not include states describing infection status (see <a href="xds_setup_mosy.html">xds_setup_mosy</a>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="make_xds_object_template.html">make_xds_object_template</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David L. Smith, Sean L. Wu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

